digraph G {
rankdir=TB;

        lchan [label="lchan FSM",shape=box3d];
        intra [label="intra-BSC HO",shape=box];
        old_lchan [label="old lchan",shape=box3d];
        term [label="terminate",shape=box];

	invisible [style="invisible"]
	invisible -> intra [style=invisible,arrowhead=none]
	invisible -> old_lchan [style=invisible,arrowhead=none]

	intra -> WAIT_LCHAN_ACTIVE [label="handover_start()",style=dashed]
        WAIT_LCHAN_ACTIVE -> lchan [label="lchan_activate(FOR_HANDOVER)",style=dashed]
	lchan -> WAIT_LCHAN_ACTIVE [label="HO_EV_\nLCHAN_\nACTIVE,ERROR",style=dashed,constraint=false]
        WAIT_LCHAN_ACTIVE -> WAIT_RR_HO_DETECT
        WAIT_RR_HO_DETECT -> old_lchan [label="RR Handover\nCommand",style=dashed,constraint=false]
	
	lchan -> WAIT_RR_HO_DETECT [label="RR Handover\nDetect",style=dashed]
	WAIT_RR_HO_DETECT -> WAIT_RR_HO_COMPLETE

	lchan -> WAIT_RR_HO_COMPLETE [label="RR Handover\nComplete",style=dashed]
	WAIT_RR_HO_COMPLETE -> WAIT_LCHAN_ESTABLISHED
	lchan -> WAIT_LCHAN_ESTABLISHED [label="HO_EV_LCHAN_\nESTABLISHED",style=dashed]

	WAIT_LCHAN_ESTABLISHED -> term [label="handover_end()",style=dashed]
}
